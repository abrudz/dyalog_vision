# [Dyalog APL](https://www.dyalog.com/) Vision

This is [my](https://apl.wiki/AdÃ¡m_Brudzewsky) vision for a realistic development of core Dyalog APL, including extending the domains of existing primitives/quad-names, and adding a few new ones. Requires Dyalog APL version 18.2 or higher.

### How to use

You can easily play with these almost like you use normal Dyalog APL in a session:

#### Initialisation

From within Dyalog APL 18.2 or higher, enter `]get path/dyalog_vision` or to import directly from GitHub `]get https://github.com/abrudz/dyalog_vision`

#### Running code

You have three options:

1. Use the extensions directly with the glyph names, e.g. `4 1 dyalog_vision.RightShoeUnderbar â•A`.
2. Use `dyalog_vision.âˆ†FIX` as a drop in for `â•FIX`.
3. Use `dyalog_vision.â™REPL #` to start a (limited) session where the glyphs work. Enter `â†’` to exit.

### Content

* All scalar functions support [leading axis agreement](https://aplwiki.com/wiki/Leading_axis_agreement).

* All set functions support arguments of any rank.

* `â•C` and monadic `â•UCS` are scalar functions.

* In addition, the following is included:

| Name                                        | Symbol    | Type* | Extension                                                                                                                                                                                                                             | Examples                                                                                                       |
| ------------------------------------------- |:---------:|:-----:| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| [CircleDiaeresis](CircleDiaeresis.aplo)     | `â¥`       | ğŸ”µâœ…  | Depth when right operand is array. This is similar to Rank (`â¤`) but applies at nesting level.                                                                                                                                        | `fâ¥0` applies `f` like a scalar function and `fâ¥1` applies to flat subarrays. `fâ¤1â¥1` applies to flat vectors. |
| [DelDiaeresis](DelDiaeresis.aplo)           | `â¢`       | ğŸ”º    | Under (a.k.a. Dual). Like `fâ¥g`Â but conceptually inverts the right operand when done. If `g`Â is a selection function, it puts the data back where it came from                                                                        | `-â¢(2 3âˆ˜âŠƒ)`Â negates the 2nd element's 3rd element.                                                             |
| [DelTilde](DelTilde.aplo)                   | `â«`       | ğŸ”º    | Obverse; `âºâº` but with inverse `âµâµ`                                                                                                                                                                                                   | `Ã—â¢(FFTâ«iFFT)`                                                                                                 |
| [DollarSign](DollarSign.aplf)               | `$`       | ğŸ”º    | string enhancement <code>${1}</code>:`1âŠƒâº`, <code>${expr}</code>:`âexpr`, `\n`:JSON                                                                                                                                                   | `'Dyer' 'Bob'$'Hi, ${2} ${1}!`<br/>`$'Hi, ${first} ${last}!`<br/>`$'2Ã—3=${2Ã—3}'`                               |
| [DownArrow](DownArrow.aplf)                 | `â†“`       | ğŸ”µ    | dyad allows long `âº`                                                                                                                                                                                                                  | `0 1â†“'abc'`Â gives `1 2â´'bc'`                                                                                   |
| [DownTack](DownTack.aplf)                   | `âŠ¤`       | âš      | `âŠ¥â£Â¯1`Â when left argument is scalar                                                                                                                                                                                                   | `2âŠ¤123`Â gives `1 1 1 1 0 1 1`                                                                                  |
| [EpsilonUnderbar](EpsilonUnderbar.aplf)     | `â·`       | ğŸ”¶    | monad: Type (likeÂ `âˆŠ` with `â•MLâ†0`)                                                                                                                                                                                                   | `â·1'a'#`Â gives `0' '#`'                                                                                        |
| [JotUnderbar](JotUnderbar.aplo)             | `â›`       | ğŸ”ºâœ…  | reverse composition `X fâ›g Y` is `(f X) g Y`Â and default argument                                                                                                                                                                     | `âŒ½â›â‰¡`Â checks for palindromes.<br/>`a-â›â†‘b`Â takes the last `a`Â from `b`.                                         |
| [LeftShoe](LeftShoe.aplf)                   | `âŠ‚`       | ğŸ”µ    | dyad allows partitioning along multiple leading axes                                                                                                                                                                                  | `(âŠ‚1 1)âŠ‚matrix`Â separates out the first row and column.                                                        |
| [LeftShoeUnderbar](LeftShoeUnderbar.aplf)   | `âŠ†`       | ğŸ”µ    | dyad allows partitioning along multiple leading axes                                                                                                                                                                                  | `(âŠ‚1 0 1 1)âŠ†4 4â´â•A`Â splits off the first row and column, and removes the second.                               |
| [QuadEqual](QuadEqual.aplo)                 | `âŒ¸`       | ğŸ”µ    | allow array operand to be vocabulary (then uses `{âŠ‚âµ}` as internal operand)                                                                                                                                                           | `â‰¢Â¨'ACGT'âŒ¸'ATT-ACA'` gives `3 1 0 2`                                                                           |
| [QuadDiamond](QuadDiamond.aplo)             | `âŒº`       | ğŸ”¶    | auto-extended `âµâµ`, allows small `âµ`, optional edge spec(s) ([0:Zero; 1:Repl; 2:Rev; 3:Mirror; 4:Wrap](http://web.science.mq.edu.au/~len/preprint/hamey-dicta2015-functional-border.pdf#page=3); -:Twist) with masks as operand's `âº` | Life on a cylinder:Â `0 4 LifeâŒº3 3`                                                                             |
| [Rho](Rho.aplf)                             | `â´`       | ğŸ”µ    | dyad: negatives reverse axis, `0.5`Â auto-size rounding down, `1.5`Â auto-size rounding up, `2.5`Â auto-size with padding                                                                                                                | Reshape into two columns: `0.5 2â´data`                                                                         |
| [RightShoeUnderbar](RightShoeUnderbar.aplf) | `âŠ‡`       | ğŸ”ºâœ…  | monad: last (`âŠƒâŒ½,âµ`)<br/>dyad: select (`âŒ·â¨âˆ˜âŠƒâ¨â¤0 99`)                                                                                                                                                                                  | `3 1 2âŠ‡'abc'`Â gives `'cab'`                                                                                    |
| [Root](Root.dyalog)                         | `âˆš`       | ğŸ”º    | (Square) Root                                                                                                                                                                                                                         | `âˆš25`Â gives `5`<br/>`3âˆš27 gives 3`                                                                             |
| [UpArrow](UpArrow.aplf)                     | `â†‘`       | ğŸ”µ    | allows long `âº`                                                                                                                                                                                                                       | `2 3â†‘4 5`Â gives `2 3â´4 5 0 0 0 0`                                                                              |
| [Vel](Vel.aplf)                             | `âˆ¨`       | ğŸ”¶    | monad: demote (`,[â³2]`)                                                                                                                                                                                                               | `âˆ¨2 3 4â´â•A` gives `6 4â´â•A`                                                                                     |
| [Wedge](Wedge.aplf)                         | `âˆ§`       | ğŸ”¶    | monad: promote (`âµâ´â¨1,â´âµ`)                                                                                                                                                                                                            | `'ABC'âªâ¥âˆ§'DEF'` gives `2 3â´â•A`                                                                                 |
| [âˆ†EM](âˆ†EM.aplf)                             | `â•EM`     | ğŸ”µ    | Self-inverse `â•EM`                                                                                                                                                                                                                    | `â•EM'RANK ERROR' 'WS FULL'`Â gives `4 1`                                                                        |
| [âˆ†NS](âˆ†NS.aplf)                             | `â•NS`     | ğŸ”µ    | Accepts ref left arg. Name Set: The list of values to copy into the new/target namespace can have 2-element name-value vectors, setting the name to the given value                                                                   | `refâ†â•NS('Abe' 10)('Bea' 12)`<br/>`refâ•NSâŠ‚'Carl' 8`                                                            |
| [âˆ†NG](âˆ†NG.aplf)                             | `â•NG`     | ğŸ”º    | Name Get                                                                                                                                                                                                                              | `refâ•NG'Bea' 'Abe'`                                                                                            |
| [âˆ†SIGNAL](âˆ†signal.aplf)                     | `â•SIGNAL` | ğŸ”µ    | Allows `â•DMX`-style ref argument                                                                                                                                                                                                      | `â•SIGNAL â•DMX`                                                                                                 |

\*â€ƒğŸ”º new featureâ€ƒğŸ”¶ added valenceâ€ƒğŸ”µ expanded domainâ€ƒâš  breaking changeâ€ƒâœ… scheduled for 20.0 (except monadic `âŠ‡`)
